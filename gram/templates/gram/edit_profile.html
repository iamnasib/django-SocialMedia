{% extends "gram/base.html" %}
{% block title %} Edit Profile {% endblock title %} 
{%block head%}
{% load static %}  
    <script src="{% static '/gram/javascript/dp_upload.js' %}" type="text/javascript"></script> 
{% endblock head %}
{% block content %}
    <div class="row my-3 justify-content-center p-3">
        <img class="rounded-circle account-img" src="{{ user.DP.url }} " style="cursor: pointer; height:150px;width:150px; border:.1px solid  #e2e3e4"/>
    </div>
    {% include 'gram/messages.html' %}
    {% if user_form.errors %}
        <div class="alert alert-danger alert-dismissible" role="alert">
            <div id="form_errors">
                {% for key, value in user_form.errors.items %}
                    <strong>{{ value }}</strong>
                {% endfor %}
            </div>
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
    {% endif %}
    <div class="form-content">
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="form-row justify-content-center">
                <div class="col-md-5">
                    <div class="form-group text-center ">
                        <label class="link-primary mb-1"  style="color: #007bff; cursor:pointer" for="dp">Change Profile Picture</label>
                        {{ user_form.DP  }}
                    </div>
                    <div class="form-group">
                        <label class="small mb-1">Fullname:</label>
                            {{user_form.full_name}}
                        <label class="small mb-1">Username:</label>
                            {{ user_form.username }}
                        <label class="small mb-1">Email:</label>
                            {{ user_form.email }}
                        <label class="small mb-1">Mobile Number:</label>
                            {{user_form.mobile_number}}
                        <label class="small mb-1">Private:</label>
                            {{user_form.is_private}}
                        <br>
                        <a href="{% url 'password_change' %}">Change Password</a>
                    </div>
                    <hr>
                    <div class="form-group">
                        <label class="small mb-1">Date of Birth:</label>
                            {{user_form.DOB}}
                        <label class="small mb-1">Website:</label>
                        {{ user_form.website }}
                    </div>
                    <label class="small mb-1">Bio:</label> {{ user_form.bio }}
                </div>
            </div>
            <br>
            <div class="form-row justify-content-center">
                <div class="col-md-3">
                    <button type="submit" class="btn btn-sm btn-block btn-outline-dark" id="submit">Save Changes</button>
                </div>
            </div>
            
        </form>
    </div>
{% endblock content %}